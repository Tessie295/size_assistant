ğŸ“ ESTRUCTURA DEL PROYECTO - ASISTENTE DE TALLAS
========================================================

sizing-chatbot/
â”‚
â”œâ”€â”€ ğŸ“„ app.py                           # AplicaciÃ³n Streamlit principal
â”œâ”€â”€ ğŸ“„ requirements.txt                 # Dependencias del proyecto
â”œâ”€â”€ ğŸ“„ setup.py                        # Script de configuraciÃ³n automÃ¡tica
â”œâ”€â”€ ğŸ“„ run.py                          # Script para ejecutar la aplicaciÃ³n
â”œâ”€â”€ ğŸ“„ .env.example                    # Ejemplo de configuraciÃ³n de entorno
â”œâ”€â”€ ğŸ“„ README.md                       # DocumentaciÃ³n completa
â”‚
â”œâ”€â”€ ğŸ“‚ data/                           # ğŸ“Š DATOS DEL SISTEMA
â”‚   â”œâ”€â”€ client_profiles.json           # Perfiles de clientes (copiar aquÃ­)
â”‚   â”œâ”€â”€ product_catalog.json           # CatÃ¡logo de productos (copiar aquÃ­)
â”‚   â””â”€â”€ __init__.py                    # Paquete Python
â”‚
â”œâ”€â”€ ğŸ“‚ models/                         # ğŸ—ï¸ MODELOS DE DATOS
â”‚   â”œâ”€â”€ __init__.py                    # Paquete Python
â”‚   â””â”€â”€ data_models.py                 # Clases: Client, Product, SizeRecommendation
â”‚
â”œâ”€â”€ ğŸ“‚ engine/                         # âš™ï¸ MOTOR DE RECOMENDACIONES
â”‚   â”œâ”€â”€ __init__.py                    # Paquete Python
â”‚   â””â”€â”€ size_recommendation_engine.py  # Algoritmo principal de recomendaciones
â”‚
â”œâ”€â”€ ğŸ“‚ services/                       # ğŸ”§ SERVICIOS DEL SISTEMA
â”‚   â”œâ”€â”€ __init__.py                    # Paquete Python
â”‚   â”œâ”€â”€ llm_service.py                 # IntegraciÃ³n con OpenAI GPT
â”‚   â”œâ”€â”€ rag_service.py                 # Servicio RAG (bÃºsqueda de contexto)
â”‚   â””â”€â”€ conversation_manager.py        # GestiÃ³n de memoria conversacional
â”‚
â””â”€â”€ ğŸ“‚ core/                          # ğŸ§  NÃšCLEO DEL CHATBOT
    â”œâ”€â”€ __init__.py                    # Paquete Python
    â””â”€â”€ chatbot.py                     # Clase principal SizingChatbot


ğŸ”„ FLUJO DE DATOS Y PROCESAMIENTO
==================================

1. ğŸ“± ENTRADA DEL USUARIO (app.py)
   â””â”€â”€ Streamlit recibe mensaje del usuario

2. ğŸ§  NÃšCLEO DEL CHATBOT (core/chatbot.py)
   â”œâ”€â”€ Coordina todos los servicios
   â””â”€â”€ Procesa mensaje y genera respuesta

3. ğŸ” ANÃLISIS RAG (services/rag_service.py)
   â”œâ”€â”€ Parsea consulta del usuario
   â”œâ”€â”€ Identifica entidades (clientes, productos)
   â”œâ”€â”€ Determina intenciÃ³n (recomendaciÃ³n, bÃºsqueda, ayuda)
   â””â”€â”€ Recupera contexto relevante

4. ğŸ“Š CARGA DE DATOS (data/data_loader.py)
   â”œâ”€â”€ Carga perfiles de clientes
   â”œâ”€â”€ Carga catÃ¡logo de productos
   â””â”€â”€ Proporciona bÃºsquedas y filtros

5. âš™ï¸ MOTOR DE RECOMENDACIONES (engine/size_recommendation_engine.py)
   â”œâ”€â”€ Analiza medidas corporales vs tabla de tallas
   â”œâ”€â”€ Considera historial de compras previo
   â”œâ”€â”€ Aplica preferencias de ajuste
   â””â”€â”€ Genera recomendaciÃ³n con confianza

6. ğŸ¤– SERVICIO LLM (services/llm_service.py)
   â”œâ”€â”€ Formatea contexto para GPT
   â”œâ”€â”€ Genera respuesta natural
   â””â”€â”€ Incluye justificaciones y consejos

7. ğŸ’­ GESTIÃ“N DE CONVERSACIÃ“N (services/conversation_manager.py)
   â”œâ”€â”€ Mantiene historial de turnos
   â”œâ”€â”€ Gestiona contexto de sesiÃ³n
   â””â”€â”€ Proporciona memoria entre mensajes

8. ğŸ“± RESPUESTA AL USUARIO (app.py)
   â””â”€â”€ Streamlit muestra respuesta formateada


ğŸ¯ COMPONENTES CLAVE
====================

ğŸ—ï¸ MODELOS DE DATOS:
â”œâ”€â”€ Client: Perfil completo del cliente
â”œâ”€â”€ Product: InformaciÃ³n del producto
â”œâ”€â”€ SizeRecommendation: Resultado de recomendaciÃ³n
â””â”€â”€ BodyMeasurements: Medidas corporales

âš™ï¸ MOTOR DE RECOMENDACIONES:
â”œâ”€â”€ AnÃ¡lisis de medidas (60% peso)
â”œâ”€â”€ Historial de compras (25% peso)
â”œâ”€â”€ Preferencias de ajuste (15% peso)
â””â”€â”€ Algoritmo de scoring multi-factor

ğŸ” SERVICIO RAG:
â”œâ”€â”€ Parser de consultas con regex
â”œâ”€â”€ ExtracciÃ³n de entidades
â”œâ”€â”€ BÃºsqueda por similitud
â””â”€â”€ Ranking de relevancia

ğŸ¤– SERVICIO LLM:
â”œâ”€â”€ Templates de prompts especializados
â”œâ”€â”€ Formateo de contexto
â”œâ”€â”€ GeneraciÃ³n de respuestas naturales
â””â”€â”€ Manejo de errores

ğŸ’­ GESTIÃ“N DE CONVERSACIÃ“N:
â”œâ”€â”€ Sesiones con UUID Ãºnico
â”œâ”€â”€ Turnos con timestamp
â”œâ”€â”€ Contexto persistente
â””â”€â”€ Memoria limitada (configurable)


ğŸ“‹ INSTRUCCIONES DE CONFIGURACIÃ“N
=================================

1. PREPARAR ENTORNO:
   pip install -r requirements.txt

2. CONFIGURAR API KEY:
   cp .env.example .env
   # Editar .env con tu API key de OpenAI

3. COPIAR DATOS:
   # Copiar client_profiles.json a data/
   # Copiar product_catalog.json a data/

4. EJECUTAR CONFIGURACIÃ“N:
   python setup.py

5. INICIAR APLICACIÃ“N:
   python run.py
   # o
   streamlit run app.py


ğŸ§ª PRUEBAS Y VALIDACIÃ“N
========================

El script setup.py incluye:
â”œâ”€â”€ âœ… VerificaciÃ³n de estructura de directorios
â”œâ”€â”€ âœ… ValidaciÃ³n de dependencias
â”œâ”€â”€ âœ… ComprobaciÃ³n de archivos de datos
â”œâ”€â”€ âœ… VerificaciÃ³n de configuraciÃ³n .env
â”œâ”€â”€ âœ… Prueba de funcionalidad bÃ¡sica
â””â”€â”€ âœ… CreaciÃ³n de scripts de ejecuciÃ³n


ğŸ”§ PERSONALIZACIÃ“N
==================

Para adaptar el sistema:

1. ALGORITMO DE RECOMENDACIÃ“N:
   Editar: engine/size_recommendation_engine.py
   - Ajustar pesos de factores
   - Modificar funciÃ³n de scoring
   - AÃ±adir nuevos criterios

2. PROMPTS DEL LLM:
   Editar: services/llm_service.py
   - Personalizar system_prompt
   - Modificar templates de respuesta
   - Ajustar parÃ¡metros del modelo

3. LÃ“GICA RAG:
   Editar: services/rag_service.py
   - AÃ±adir nuevos patrones de extracciÃ³n
   - Modificar algoritmos de bÃºsqueda
   - Personalizar ranking de relevancia

4. INTERFAZ DE USUARIO:
   Editar: app.py
   - Modificar diseÃ±o CSS
   - AÃ±adir nuevas funcionalidades
   - Personalizar layout


ğŸš€ EXTENSIONES FUTURAS
======================

PrÃ³ximas funcionalidades a implementar:
â”œâ”€â”€ ğŸŒ API REST para integraciÃ³n externa
â”œâ”€â”€ ğŸ—„ï¸ Base de datos en lugar de JSON
â”œâ”€â”€ ğŸ” Sistema de autenticaciÃ³n
â”œâ”€â”€ ğŸ“Š Dashboard de analytics
â”œâ”€â”€ ğŸŒ Soporte multiidioma
â”œâ”€â”€ ğŸ“¸ AnÃ¡lisis de imÃ¡genes
â”œâ”€â”€ ğŸ”„ Sistema de feedback automÃ¡tico
â””â”€â”€ ğŸ¤– IntegraciÃ³n con mÃ¡s modelos LLM